#:import Window kivy.core.window.Window
#:import Factory kivy.factory.Factory
#:set default_font_size "18sp"
#:set color_deep_orange "DD2C00"
#:set color_deep_orange "455A64"

#:set color_baby_blue "89CFF0"
#:set color_black "000000"


<turtle_tab>
    MDCard:
        size_hint_x: 1
        orientation: "vertical"
        adaptive_height: True
        elevation: 1
        radius: [4,]
        padding: 20
        height: 10

        MDBoxLayout:
            padding: [10,-10, 30, 0]
            MDBoxLayout:
                size_hint_x: 0.4
                MDLabel:
                    font_style: "Subtitle1"
                    theme_text_color: "Custom"
                    font_style: "Subtitle1"
                    text_color: color_black
                    text: "Sweeping range: "
                    height: self.texture_size[1]
            MDBoxLayout:
                size_hint_x: 0.3
                MDLabel:
                    id: Variable_1
                    font_style: "Subtitle1"
                    theme_text_color: "Custom"
                    font_style: "Subtitle1"
                    text_color: color_black
                    text: "45"
                    height: self.texture_size[1]
            MDBoxLayout:
                size_hint_x: 0.4
                MDLabel:
                    font_style: "Subtitle1"
                    theme_text_color: "Custom"
                    font_style: "Subtitle1"
                    text_color: color_black
                    text: "(C)"
                    height: self.texture_size[1]
        MDBoxLayout:
            size_hint_x: 0.7
        MDSlider:
            id: Slider_1
            min: 5
            max: 60
            value: 45
            hint: False
            color: color_deep_orange
            on_active: app.on_change_Variable_1()

        MDBoxLayout:
            padding: [10,-10, 30, 0]
            MDBoxLayout:
                size_hint_x: 0.4
                MDLabel:
                    font_style: "Subtitle1"
                    theme_text_color: "Custom"
                    font_style: "Subtitle1"
                    text_color: color_black
                    text: "Insertion depth: "
                    height: self.texture_size[1]
            MDBoxLayout:
                size_hint_x: 0.3
                MDLabel:
                    id: Variable_2
                    font_style: "Subtitle1"
                    theme_text_color: "Custom"
                    font_style: "Subtitle1"
                    text_color: color_black
                    text: "10"
                    height: self.texture_size[1]
            MDBoxLayout:
                size_hint_x: 0.4
                MDLabel:
                    font_style: "Subtitle1"
                    theme_text_color: "Custom"
                    font_style: "Subtitle1"
                    text_color: color_black
                    text: "(mm)"
                    height: self.texture_size[1]
        MDBoxLayout:
            size_hint_x: 0.7
        MDSlider:
            id: Slider_2
            min: 1
            max: 100
            value: 20
            hint: False
            color: color_deep_orange
            on_active: app.on_change_Variable_2()

        MDBoxLayout:
            padding: [10,-10, 30, 0]
            MDBoxLayout:
                size_hint_x: 0.4
                MDLabel:
                    font_style: "Subtitle1"
                    theme_text_color: "Custom"
                    font_style: "Subtitle1"
                    text_color: color_black
                    text: "Penetration velocity: "
                    height: self.texture_size[1]
            MDBoxLayout:
                size_hint_x: 0.3
                MDLabel:
                    id: Variable_3
                    font_style: "Subtitle1"
                    theme_text_color: "Custom"
                    font_style: "Subtitle1"
                    text_color: color_black
                    text: "100"
                    height: self.texture_size[1]
            MDBoxLayout:
                size_hint_x: 0.4
                MDLabel:
                    font_style: "Subtitle1"
                    theme_text_color: "Custom"
                    font_style: "Subtitle1"
                    text_color: color_black
                    text: "(mm/s)"
                    height: self.texture_size[1]
        MDBoxLayout:
            size_hint_x: 0.7
        MDSlider:
            id: Slider_3
            min: 1
            max: 700
            value: 100
            hint: False
            color: color_deep_orange
            on_active: app.on_change_Variable_3()

        MDBoxLayout:
            padding: [10,-10, 30, 0]
            MDBoxLayout:
                size_hint_x: 0.4
                MDLabel:
                    font_style: "Subtitle1"
                    theme_text_color: "Custom"
                    font_style: "Subtitle1"
                    text_color: color_black
                    text: "Sweeping velocity: "
                    height: self.texture_size[1]
            MDBoxLayout:
                size_hint_x: 0.3
                MDLabel:
                    id: Variable_4
                    font_style: "Subtitle1"
                    theme_text_color: "Custom"
                    font_style: "Subtitle1"
                    text_color: color_black
                    text: "150"
                    height: self.texture_size[1]
            MDBoxLayout:
                size_hint_x: 0.4
                MDLabel:
                    font_style: "Subtitle1"
                    theme_text_color: "Custom"
                    font_style: "Subtitle1"
                    text_color: color_black
                    text: "(mm/s)"
                    height: self.texture_size[1]
        MDBoxLayout:
            size_hint_x: 0.7
        MDSlider:
            id: Slider_4
            min: 1
            max: 700
            value: 150
            hint: False
            color: color_deep_orange
            on_active: app.on_change_Variable_4()

        MDBoxLayout:
            padding: [10,-10, 30, 0]
            MDBoxLayout:
                size_hint_x: 0.4
                MDLabel:
                    font_style: "Subtitle1"
                    theme_text_color: "Custom"
                    font_style: "Subtitle1"
                    text_color: color_black
                    text: "Extraction velocity: "
                    height: self.texture_size[1]
            MDBoxLayout:
                size_hint_x: 0.3
                MDLabel:
                    id: Variable_5
                    font_style: "Subtitle1"
                    theme_text_color: "Custom"
                    font_style: "Subtitle1"
                    text_color: color_black
                    text: "120"
                    height: self.texture_size[1]
            MDBoxLayout:
                size_hint_x: 0.4
                MDLabel:
                    font_style: "Subtitle1"
                    theme_text_color: "Custom"
                    font_style: "Subtitle1"
                    text_color: color_black
                    text: "(mm/s)"
                    height: self.texture_size[1]
        MDBoxLayout:
            size_hint_x: 0.7
        MDSlider:
            id: Slider_5
            min: 1
            max: 1000
            value: 120
            hint: False
            color: color_deep_orange
            on_active: app.on_change_Variable_5()

        MDBoxLayout:
            padding: [10,-10, 30, 0]
            MDBoxLayout:
                size_hint_x: 0.4
                MDLabel:
                    font_style: "Subtitle1"
                    theme_text_color: "Custom"
                    font_style: "Subtitle1"
                    text_color: color_black
                    text: "Swing velocity: "
                    height: self.texture_size[1]
            MDBoxLayout:
                size_hint_x: 0.3
                MDLabel:
                    id: Variable_6
                    font_style: "Subtitle1"
                    theme_text_color: "Custom"
                    font_style: "Subtitle1"
                    text_color: color_black
                    text: "180"
                    height: self.texture_size[1]
            MDBoxLayout:
                size_hint_x: 0.4
                MDLabel:
                    font_style: "Subtitle1"
                    theme_text_color: "Custom"
                    font_style: "Subtitle1"
                    text_color: color_black
                    text: "(mm/s)"
                    height: self.texture_size[1]
        MDBoxLayout:
            size_hint_x: 0.7
        MDSlider:
            id: Slider_6
            min: 1
            max: 700
            value: 180
            hint: False
            color: color_deep_orange
            on_active: app.on_change_Variable_6()
  
        
<turtle_optimize_tab>
    MDCard:
        size_hint_x: 1
        orientation: "vertical"
        adaptive_height: True
        elevation: 1
        radius: [4,]
        padding: 20
        height: 10

        MDBoxLayout:
            padding: [10,-10, 30, 0]
            MDBoxLayout:
                size_hint_x: 0.4
                MDLabel:
                    font_style: "Subtitle1"
                    theme_text_color: "Custom"
                    font_style: "Subtitle1"
                    text_color: color_black
                    text: "Sweeping range: "
                    height: self.texture_size[1]
            MDBoxLayout:
                size_hint_x: 0.3
                MDLabel:
                    id: Optimize_Variable_1
                    font_style: "Subtitle1"
                    theme_text_color: "Custom"
                    font_style: "Subtitle1"
                    text_color: color_black
                    text: "45"
                    height: self.texture_size[1]
            MDBoxLayout:
                size_hint_x: 0.4
                MDLabel:
                    font_style: "Subtitle1"
                    theme_text_color: "Custom"
                    font_style: "Subtitle1"
                    text_color: color_black
                    text: "(C)"
                    height: self.texture_size[1]
        MDBoxLayout:
            size_hint_x: 0.7
        MDSlider:
            id: Slider_optimize_1
            min: 5
            max: 60
            value: 30
            hint: False
            color: color_deep_orange
            on_active: app.on_change_Optimize_Variable_1()

        MDBoxLayout:
            padding: [10,-10, 30, 0]
            MDBoxLayout:
                size_hint_x: 0.4
                MDLabel:
                    font_style: "Subtitle1"
                    theme_text_color: "Custom"
                    font_style: "Subtitle1"
                    text_color: color_black
                    text: "Insertion depth: "
                    height: self.texture_size[1]
            MDBoxLayout:
                size_hint_x: 0.3
                MDLabel:
                    id: Optimize_Variable_2
                    font_style: "Subtitle1"
                    theme_text_color: "Custom"
                    font_style: "Subtitle1"
                    text_color: color_black
                    text: "10"
                    height: self.texture_size[1]
            MDBoxLayout:
                size_hint_x: 0.4
                MDLabel:
                    font_style: "Subtitle1"
                    theme_text_color: "Custom"
                    font_style: "Subtitle1"
                    text_color: color_black
                    text: "(mm)"
                    height: self.texture_size[1]
        MDBoxLayout:
            size_hint_x: 0.7
        MDSlider:
            id: Slider_optimize_2
            min: 1
            max: 100
            value: 30
            hint: False
            color: color_deep_orange
            on_active: app.on_change_Optimize_Variable_2()

        MDBoxLayout:
            padding: [10,-10, 30, 0]
            MDBoxLayout:
                size_hint_x: 0.4
                MDLabel:
                    font_style: "Subtitle1"
                    theme_text_color: "Custom"
                    font_style: "Subtitle1"
                    text_color: color_black
                    text: "Penetration velocity: "
                    height: self.texture_size[1]
            MDBoxLayout:
                size_hint_x: 0.3
                MDLabel:
                    id: Optimize_Variable_3
                    font_style: "Subtitle1"
                    theme_text_color: "Custom"
                    font_style: "Subtitle1"
                    text_color: color_black
                    text: "100"
                    height: self.texture_size[1]
            MDBoxLayout:
                size_hint_x: 0.4
                MDLabel:
                    font_style: "Subtitle1"
                    theme_text_color: "Custom"
                    font_style: "Subtitle1"
                    text_color: color_black
                    text: "(mm/s)"
                    height: self.texture_size[1]
        MDBoxLayout:
            size_hint_x: 0.7
        MDSlider:
            id: Slider_optimize_3
            min: 1
            max: 700
            value: 100
            hint: False
            color: color_deep_orange
            on_active: app.on_change_Optimize_Variable_3()

        MDBoxLayout:
            padding: [10,-10, 30, 0]
            MDBoxLayout:
                size_hint_x: 0.4
                MDLabel:
                    font_style: "Subtitle1"
                    theme_text_color: "Custom"
                    font_style: "Subtitle1"
                    text_color: color_black
                    text: "Sweeping velocity: "
                    height: self.texture_size[1]
            MDBoxLayout:
                size_hint_x: 0.3
                MDLabel:
                    id: Optimize_Variable_4
                    font_style: "Subtitle1"
                    theme_text_color: "Custom"
                    font_style: "Subtitle1"
                    text_color: color_black
                    text: "150"
                    height: self.texture_size[1]
            MDBoxLayout:
                size_hint_x: 0.4
                MDLabel:
                    font_style: "Subtitle1"
                    theme_text_color: "Custom"
                    font_style: "Subtitle1"
                    text_color: color_black
                    text: "(mm/s)"
                    height: self.texture_size[1]
        MDBoxLayout:
            size_hint_x: 0.7
        MDSlider:
            id: Slider_optimize_4
            min: 1
            max: 700
            value: 500
            hint: False
            color: color_deep_orange
            on_active: app.on_change_Optimize_Variable_4()

        MDBoxLayout:
            padding: [10,-10, 30, 0]
            MDBoxLayout:
                size_hint_x: 0.4
                MDLabel:
                    font_style: "Subtitle1"
                    theme_text_color: "Custom"
                    font_style: "Subtitle1"
                    text_color: color_black
                    text: "Extraction velocity: "
                    height: self.texture_size[1]
            MDBoxLayout:
                size_hint_x: 0.3
                MDLabel:
                    id: Optimize_Variable_5
                    font_style: "Subtitle1"
                    theme_text_color: "Custom"
                    font_style: "Subtitle1"
                    text_color: color_black
                    text: "120"
                    height: self.texture_size[1]
            MDBoxLayout:
                size_hint_x: 0.4
                MDLabel:
                    font_style: "Subtitle1"
                    theme_text_color: "Custom"
                    font_style: "Subtitle1"
                    text_color: color_black
                    text: "(mm/s)"
                    height: self.texture_size[1]
        MDBoxLayout:
            size_hint_x: 0.7
        MDSlider:
            id: Slider_optimize_5
            min: 1
            max: 1000
            value: 500
            hint: False
            color: color_deep_orange
            on_active: app.on_change_Optimize_Variable_5()

        MDBoxLayout:
            padding: [10,-10, 30, 0]
            MDBoxLayout:
                size_hint_x: 0.4
                MDLabel:
                    font_style: "Subtitle1"
                    theme_text_color: "Custom"
                    font_style: "Subtitle1"
                    text_color: color_black
                    text: "Swing velocity: "
                    height: self.texture_size[1]
            MDBoxLayout:
                size_hint_x: 0.3
                MDLabel:
                    id: Optimize_Variable_6
                    font_style: "Subtitle1"
                    theme_text_color: "Custom"
                    font_style: "Subtitle1"
                    text_color: color_black
                    text: "180"
                    height: self.texture_size[1]
            MDBoxLayout:
                size_hint_x: 0.4
                MDLabel:
                    font_style: "Subtitle1"
                    theme_text_color: "Custom"
                    font_style: "Subtitle1"
                    text_color: color_black
                    text: "(mm/s)"
                    height: self.texture_size[1]
        MDBoxLayout:
            size_hint_x: 0.7
        MDSlider:
            id: Slider_optimize_6
            min: 1
            max: 700
            value: 500
            hint: False
            color: color_deep_orange
            on_active: app.on_change_Optimize_Variable_6()
  


MDScreen:
    MDBoxLayout:
        orientation: "vertical"
            
        MDBottomNavigation:
            id: panel
            height: dp(58)

            MDBottomNavigationItem:
                name: "files_control"
                text: "Running robot"
                font_style: "H1"
                icon: "robot-happy-outline"
                


                MDGridLayout:
                    cols: 3
                    rows: 1
                    MDBoxLayout:
                        spacing:20
                        padding: 20
                        orientation: "vertical"                    
                        size_hint_x: 0.7
                        MDBoxLayout:
                            spacing:20
                            size_hint_y: 0.6
                            size_hint_x: 1
                            radius: [4, ]
                            orientation: "vertical"
            

                            MDTabs:
                                id: datafiguretabs
                                tab_hint_x: .5
                                on_tab_switch: app.on_tab_switch(*args)
                                

                                Tab:
                                    title: 'Force'
                                    MDBoxLayout:
                                        id: rawForcePlot


                                Tab:
                                    title:'Speed'
                                    MDBoxLayout:
                                        id: speedplot
                                        
                                Tab:
                                    title:'Position'
                                    MDBoxLayout:
                                        id: positionplot
                                        

                            

                    MDBoxLayout:
                        spacing:20
                        padding: 20
                        orientation: "vertical"     
                        size_hint_x: 0.3               
                        

                        MDCard:
                            size_hint_y: 0.16
                            size_hint_x: 1
                            orientation: "vertical" 
                            adaptive_height: True
                            elevation: 1
                            radius: [4, ]
                            padding: 12
                            height: 10
                        
                            
                            MDBoxLayout:
                                padding: 30
                                MDLabel:
                                    font_style: "H6"
                                    theme_text_color: "Custom"
                                    font_style: "H6"
                                    text_color:  color_deep_orange
                                    text: "Trajectories Selection"
                                    height: self.texture_size[1]
                                MDDropDownItem:
                                    id: drop_item
                                    pos_hint: {'center_x': .5, 'center_y': .5}
                                    text: 'turtle'
                                    on_release: app.menu.open()
                        MDBoxLayout:
                            id: configure_layout
                        


                        MDCard:
                            size_hint_y: 0.1
                            size_hint_x: 1
                            orientation: "vertical" 
                            adaptive_height: True
                            elevation: 1
                            radius: [4, ]
                            padding: 12
                            height: 10                           
 
                            
                            MDBoxLayout:
                                padding: 15
                                spacing: 15
                                pos_hint: {'center_x': .5, 'center_y': .2}
                                MDBoxLayout:
                                    size_hint_y: 0.6
                                    size_hint_x: 0.4
                                    MDLabel:
                                        font_style: "Subtitle1"
                                        theme_text_color: "Custom"
                                        font_style: "Subtitle1"
                                        text_color:  color_deep_orange
                                        text: "Real Time Plot"
                                        height: self.texture_size[1]
                                    MDCheckbox:
                                        active: True
                                        id: if_real_time_plot
                                        size_hint: None, None
                                        size: "60dp", "60dp"
                                        pos_hint: {'center_x': .5, 'center_y': .4}
                                MDBoxLayout:
                                    size_hint_y: 0.6
                                    size_hint_x: 0.4
                                    MDLabel:
                                        font_style: "Subtitle1"
                                        theme_text_color: "Custom"
                                        font_style: "Subtitle1"
                                        text_color:  color_deep_orange
                                        text: "Start Collection"
                                        height: self.texture_size[1]
                                    MDSwitch:
                                        id: start_collection
                                        widget_style: "ios"
                                        pos_hint: {'center_x': 1, 'center_y': 0.1}
                                        width: dp(30)
                                        height: dp(20)
                                        on_active: app.check_if_start()
                                

                        MDCard:
                            size_hint_y: 0.1
                            size_hint_x: 1
                            orientation: "vertical" 
                            adaptive_height: True
                            elevation: 1
                            radius: [4, ]
                            padding: 8
                            height: 10                           
 
                            MDBoxLayout:
                                padding: 15
                                spacing: 15
                                MDBoxLayout:
                                    size_hint_y: 0.1
                                    MDTextField:
                                        id: filename
                                        size_hint_y: None
                                        size_y: "60dp"
                                        pos_hint: {'center_x': .5, 'center_y': 1}
                                        hint_text: "File Prefix"
                                        text_color: color_deep_orange
                                        icon_right: "tag-arrow-down"
                                        icon_right_color: color_deep_orange
                                
                                MDBoxLayout:
                                    size_hint_x: 0.1
                                    TooltipMDIconButton:
                                        icon: "file-download"
                                        tooltip_text: "Download experiment data"
                                        theme_text_color: "Custom"
                                        text_color: color_deep_orange
                                        user_font_size: "36sp"
                                        on_press: app.on_download_data()
                                        pos_hint: {'right': 0, 'center_y': 0.5}
                                        
                            
                              


                    
                  
                        
                        
                        
                        
                        

                        
                                              
                                             
